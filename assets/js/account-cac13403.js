import{u as U,b as R}from"./vue-router-fa37f960.js";import{u as $}from"./vue-i18n-48ce28a7.js";import{a as q}from"./js-cookie-cf83ad76.js";import{s as B}from"./pinia-f60c2a98.js";import{u as D,S as y,i as E,c as O,N as j}from"./index-93fa1ca3.js";import{a as z}from"./formatTime-29ac8c52.js";import{a as v}from"./element-plus-e3be9ac5.js";import{H as V,_ as A,j as J,ah as a,ar as M,o as _,O as f,P as e,V as o,a as N,J as H,Q as P,T as L,U as Q}from"./@vue-e2c1ea2d.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";import"./@intlify-9e8a497c.js";import"./source-map-7d7e1c08.js";import"./vue-2ea97ef2.js";import"./vue-demi-71ba0ef2.js";import"./@element-plus-4bcc2357.js";import"./nprogress-8d2808ea.js";import"./axios-707ed124.js";import"./qs-bbfcbdf3.js";import"./side-channel-eafc5c70.js";import"./get-intrinsic-b9397c9a.js";import"./has-symbols-e8f3ca0e.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-9ceb8f5b.js";import"./object-inspect-7b08a46e.js";import"./mitt-f7ef348c.js";import"./vue-grid-layout-11da8395.js";import"./lodash-es-36eb724a.js";import"./@vueuse-d09f600a.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-6aac7dfa.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-1d60d822.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-463e90e0.js";const K=V({name:"loginAccount"}),W=V({...K,setup(X){const{t:S}=$(),C=D(),{themeConfig:I}=B(C),m=U(),g=R(),t=A({isShowPassword:!1,ruleForm:{userName:"admin",password:"123456",code:"1234"},loading:{signIn:!1}}),T=J(()=>z(new Date)),k=async()=>{if(t.loading.signIn=!0,y.set("token",Math.random().toString(36).substr(0)),q.set("userName",t.ruleForm.userName),I.value.isRequestRoutes){const n=await O();w(n)}else{const n=await E();w(n)}},w=n=>{var s,u,r,i;if(n)v.warning("抱歉，您没有登录权限"),y.clear();else{let l=T.value;(s=m.query)!=null&&s.redirect?g.push({path:(u=m.query)==null?void 0:u.redirect,query:Object.keys((r=m.query)==null?void 0:r.params).length>0?JSON.parse((i=m.query)==null?void 0:i.params):""}):g.push("/");const p=S("message.signInText");v.success(`${l}，${p}`),j.start()}t.loading.signIn=!1};return(n,s)=>{const u=a("ele-User"),r=a("el-icon"),i=a("el-input"),l=a("el-form-item"),p=a("ele-Unlock"),F=a("ele-Position"),d=a("el-col"),h=a("el-button"),b=a("el-form"),x=M("waves");return _(),f(b,{size:"large",class:"login-content-form"},{default:e(()=>[o(l,{class:"login-animation1"},{default:e(()=>[o(i,{text:"",placeholder:n.$t("message.account.accountPlaceholder1"),modelValue:t.ruleForm.userName,"onUpdate:modelValue":s[0]||(s[0]=c=>t.ruleForm.userName=c),clearable:"",autocomplete:"off"},{prefix:e(()=>[o(r,{class:"el-input__icon"},{default:e(()=>[o(u)]),_:1})]),_:1},8,["placeholder","modelValue"])]),_:1}),o(l,{class:"login-animation2"},{default:e(()=>[o(i,{type:t.isShowPassword?"text":"password",placeholder:n.$t("message.account.accountPlaceholder2"),modelValue:t.ruleForm.password,"onUpdate:modelValue":s[2]||(s[2]=c=>t.ruleForm.password=c),autocomplete:"off"},{prefix:e(()=>[o(r,{class:"el-input__icon"},{default:e(()=>[o(p)]),_:1})]),suffix:e(()=>[N("i",{class:H(["iconfont el-input__icon login-content-password",t.isShowPassword?"icon-yincangmima":"icon-xianshimima"]),onClick:s[1]||(s[1]=c=>t.isShowPassword=!t.isShowPassword)},null,2)]),_:1},8,["type","placeholder","modelValue"])]),_:1}),o(l,{class:"login-animation3"},{default:e(()=>[o(d,{span:15},{default:e(()=>[o(i,{text:"",maxlength:"4",placeholder:n.$t("message.account.accountPlaceholder3"),modelValue:t.ruleForm.code,"onUpdate:modelValue":s[3]||(s[3]=c=>t.ruleForm.code=c),clearable:"",autocomplete:"off"},{prefix:e(()=>[o(r,{class:"el-input__icon"},{default:e(()=>[o(F)]),_:1})]),_:1},8,["placeholder","modelValue"])]),_:1}),o(d,{span:1}),o(d,{span:8},{default:e(()=>[P((_(),f(h,{class:"login-content-code"},{default:e(()=>[L("1234")]),_:1})),[[x]])]),_:1})]),_:1}),o(l,{class:"login-animation4"},{default:e(()=>[P((_(),f(h,{type:"primary",class:"login-content-submit",round:"",onClick:k,loading:t.loading.signIn},{default:e(()=>[N("span",null,Q(n.$t("message.account.accountBtnText")),1)]),_:1},8,["loading"])),[[x]])]),_:1})]),_:1})}}});const $e=G(W,[["__scopeId","data-v-d26cc5e8"]]);export{$e as default};
