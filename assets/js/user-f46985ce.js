import{_ as P,g as F,u as j,L as u,e as q,S as J,o as K}from"./index-93fa1ca3.js";import{b as G}from"./vue-router-fa37f960.js";import{s as _}from"./screenfull-b3e6dc1f.js";import{u as Q}from"./vue-i18n-48ce28a7.js";import{s as v}from"./pinia-f60c2a98.js";import{a as W,E as X}from"./element-plus-e3be9ac5.js";import{H as S,aN as Y,e as w,_ as Z,j as x,i as ee,ah as m,o as oe,c as se,V as o,P as s,T as n,U as l,a as i,J as C,u as p,K as te}from"./@vue-e2c1ea2d.js";import{_ as ne}from"./_plugin-vue_export-helper-c27b6911.js";import"./js-cookie-cf83ad76.js";import"./@element-plus-4bcc2357.js";import"./nprogress-8d2808ea.js";import"./@intlify-9e8a497c.js";import"./source-map-7d7e1c08.js";import"./axios-707ed124.js";import"./qs-bbfcbdf3.js";import"./side-channel-eafc5c70.js";import"./get-intrinsic-b9397c9a.js";import"./has-symbols-e8f3ca0e.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-9ceb8f5b.js";import"./object-inspect-7b08a46e.js";import"./mitt-f7ef348c.js";import"./vue-grid-layout-11da8395.js";import"./vue-2ea97ef2.js";import"./vue-demi-71ba0ef2.js";import"./lodash-es-36eb724a.js";import"./@vueuse-d09f600a.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-6aac7dfa.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-1d60d822.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-463e90e0.js";const ae={class:"layout-navbars-breadcrumb-user-icon"},le=["title"],ie={class:"layout-navbars-breadcrumb-user-icon"},re=["title"],de=["title"],me=["title"],ue={class:"layout-navbars-breadcrumb-user-link"},ce=["src"],fe=S({name:"layoutBreadcrumbUser"}),pe=S({...fe,setup(ge){const y=Y(()=>P(()=>import("./userNews-ec7e640c.js"),["assets/js/userNews-ec7e640c.js","assets/js/@vue-e2c1ea2d.js","assets/js/_plugin-vue_export-helper-c27b6911.js","assets/css/userNews-e5444ddb.css"])),z=w(),k=w(),{locale:I,t:c}=Q(),$=G(),T=F(),B=j(),{userInfos:b}=v(T),{themeConfig:f}=v(B),N=w(),a=Z({isScreenfull:!1,disabledI18n:"zh-cn",disabledSize:"large"}),O=x(()=>{let e="";const{layout:r,isClassicSplitMenu:t}=f.value;return["defaults","columns"].includes(r)||r==="classic"&&!t?e="1":e="",e}),E=()=>{if(!_.isEnabled)return W.warning("暂不不支持全屏"),!1;_.toggle(),_.on("change",()=>{_.isFullscreen?a.isScreenfull=!0:a.isScreenfull=!1})},L=()=>{q.emit("openSetingsDrawer")},R=e=>{e==="logOut"?X({closeOnClickModal:!1,closeOnPressEscape:!1,title:c("message.user.logOutTitle"),message:c("message.user.logOutMessage"),showCancelButton:!0,confirmButtonText:c("message.user.logOutConfirm"),cancelButtonText:c("message.user.logOutCancel"),buttonSize:"default",beforeClose:(r,t,d)=>{r==="confirm"?(t.confirmButtonLoading=!0,t.confirmButtonText=c("message.user.logOutExit"),setTimeout(()=>{d(),setTimeout(()=>{t.confirmButtonLoading=!1},300)},700)):d()}}).then(async()=>{J.clear(),window.location.reload()}).catch(()=>{}):e==="wareHouse"?window.open("https://gitee.com/lyt-top/devui-dragonfly"):$.push(e)},A=e=>{u.remove("themeConfig"),f.value.globalComponentSize=e,u.set("themeConfig",f.value),g("globalComponentSize","disabledSize"),window.location.reload()},D=e=>{u.remove("themeConfig"),f.value.globalI18n=e,u.set("themeConfig",f.value),I.value=e,K.useTitle(),g("globalI18n","disabledI18n")},g=(e,r)=>{a[r]=u.get("themeConfig")[e]};return ee(()=>{u.get("themeConfig")&&(g("globalComponentSize","disabledSize"),g("globalI18n","disabledI18n"))}),(e,r)=>{const t=m("el-dropdown-item"),d=m("el-dropdown-menu"),h=m("el-dropdown"),M=m("el-popover"),U=m("ele-ArrowDown"),V=m("el-icon"),H=m("Search");return oe(),se("div",{class:"layout-navbars-breadcrumb-user pr15",style:te({flex:p(O)})},[o(h,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:A},{dropdown:s(()=>[o(d,null,{default:s(()=>[o(t,{command:"large",disabled:a.disabledSize==="large"},{default:s(()=>[n(l(e.$t("message.user.dropdownLarge")),1)]),_:1},8,["disabled"]),o(t,{command:"default",disabled:a.disabledSize==="default"},{default:s(()=>[n(l(e.$t("message.user.dropdownDefault")),1)]),_:1},8,["disabled"]),o(t,{command:"small",disabled:a.disabledSize==="small"},{default:s(()=>[n(l(e.$t("message.user.dropdownSmall")),1)]),_:1},8,["disabled"])]),_:1})]),default:s(()=>[i("div",ae,[i("i",{class:"iconfont icon-ziti",title:e.$t("message.user.title0")},null,8,le)])]),_:1}),o(h,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:D},{dropdown:s(()=>[o(d,null,{default:s(()=>[o(t,{command:"zh-cn",disabled:a.disabledI18n==="zh-cn"},{default:s(()=>[n("简体中文")]),_:1},8,["disabled"]),o(t,{command:"en",disabled:a.disabledI18n==="en"},{default:s(()=>[n("English")]),_:1},8,["disabled"]),o(t,{command:"zh-tw",disabled:a.disabledI18n==="zh-tw"},{default:s(()=>[n("繁體中文")]),_:1},8,["disabled"])]),_:1})]),default:s(()=>[i("div",ie,[i("i",{class:C(["iconfont",a.disabledI18n==="en"?"icon-fuhao-yingwen":"icon-fuhao-zhongwen"]),title:e.$t("message.user.title1")},null,10,re)])]),_:1}),i("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:L},[i("i",{class:"icon-skin iconfont",title:e.$t("message.user.title3")},null,8,de)]),o(M,{ref_key:"userNewsRef",ref:z,"virtual-ref":k.value,placement:"bottom",trigger:"click",transition:"el-zoom-in-top","virtual-triggering":"",width:300,persistent:!1},{default:s(()=>[o(p(y))]),_:1},8,["virtual-ref"]),i("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:E},[i("i",{class:C(["iconfont",a.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:a.isScreenfull?e.$t("message.user.title6"):e.$t("message.user.title5")},null,10,me)]),o(h,{"show-timeout":70,"hide-timeout":50,onCommand:R},{dropdown:s(()=>[o(d,null,{default:s(()=>[o(t,{command:"/home"},{default:s(()=>[n(l(e.$t("message.user.dropdown1")),1)]),_:1}),o(t,{command:"wareHouse"},{default:s(()=>[n(l(e.$t("message.user.dropdown6")),1)]),_:1}),o(t,{command:"/personal"},{default:s(()=>[n(l(e.$t("message.user.dropdown2")),1)]),_:1}),o(t,{command:"/404"},{default:s(()=>[n(l(e.$t("message.user.dropdown3")),1)]),_:1}),o(t,{command:"/401"},{default:s(()=>[n(l(e.$t("message.user.dropdown4")),1)]),_:1}),o(t,{divided:"",command:"logOut"},{default:s(()=>[n(l(e.$t("message.user.dropdown5")),1)]),_:1})]),_:1})]),default:s(()=>[i("span",ue,[i("img",{src:p(b).photo,class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,ce),n(" "+l(p(b).userName===""?"common":p(b).userName)+" ",1),o(V,{class:"el-icon--right"},{default:s(()=>[o(U)]),_:1})])]),_:1}),o(H,{ref_key:"searchRef",ref:N},null,512)],4)}}});const Ze=ne(pe,[["__scopeId","data-v-61952389"]]);export{Ze as default};
